<div
  [ngStyle]="{ 'background-image': 'url(' + backgroundSource + ')' }"
  class="background"
  *ngIf="movie"
>
  <div class="gradient">
    <section class="details d-flex">
      <div class="img-container">
        <img [src]="imageSource" [alt]="movie.overview" />
      </div>
      <section class="movie-info">
        <h1>{{ movie.title }}</h1>
        <h2 *ngIf="movie.title !== movie.original_title">
          {{ movie.original_title }}
        </h2>
        <h3>{{ movie.tagline }}</h3>
        <div class="facts">
          <div class="d-flex">
            <ng-container *ngFor="let genre of movie?.genres; let last = last">
              <span *ngIf="!last">{{ genre.name }},</span>
              <span *ngIf="last">{{ genre.name }}</span>
            </ng-container>
          </div>
          <p>{{ runtime.hours }}h {{ runtime.minutes }}m</p>
        </div>
        <p-rating
          [ngModel]="roundRating(movie.vote_average)"
          [readonly]="true"
          [stars]="10"
          [cancel]="false"
        ></p-rating>
        <p>
          Rating: {{ roundAverage(movie.vote_average) }}/10 of
          {{ movie.vote_count }} votes
        </p>

        <p>{{ movie.overview }}</p>

        <div class="d-flex col-12 mb-2">
          <p class="col-4">Production:</p>
          <div class="d-flex flex-column">
            <ng-container
              *ngFor="
                let production of movie?.production_companies;
                let last = last
              "
            >
              <span *ngIf="!last">{{ production.name }},</span>
              <span *ngIf="last">{{ production.name }}</span>
            </ng-container>
          </div>
        </div>

        <div class="d-flex col-12 mb-2">
          <p class="col-4">Production countries:</p>
          <div class="d-flex flex-column">
            <ng-container
              *ngFor="
                let production of movie?.production_countries;
                let last = last
              "
            >
              <span *ngIf="!last">{{ production.name }},</span>
              <span *ngIf="last">{{ production.name }}</span>
            </ng-container>
          </div>
        </div>

        <div class="d-flex col-12 mb-2">
          <p class="col-4">Budget:</p>
          <span clas="col-8">{{ movie.budget }} $</span>
        </div>

        <div class="d-flex col-12 mb-2">
          <p class="col-4">Release date:</p>
          <span clas="col-8">{{
            movie.release_date | date : "dd-MM-yyyy"
          }}</span>
        </div>
      </section>
    </section>
  </div>
</div>
